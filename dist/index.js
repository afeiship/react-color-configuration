!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("noop"),require("next-const-colors"),require("classnames"),require("react-dom"),require("object-assign")):"function"==typeof define&&define.amd?define(["react","prop-types","noop","next-const-colors","classnames","react-dom","object-assign"],t):"object"==typeof exports?exports.BoilerplateReactComponent=t(require("react"),require("prop-types"),require("noop"),require("next-const-colors"),require("classnames"),require("react-dom"),require("object-assign")):e.BoilerplateReactComponent=t(e.react,e["prop-types"],e.noop,e["next-const-colors"],e.classnames,e["react-dom"],e["object-assign"])}(window,function(e,t,n,a,r,o,c){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=c},function(e,t,n){e.exports=n.p+"assets/images/icon-arrow-c7c4.png"},function(e,t,n){e.exports=n.p+"assets/images/icon-close-92bc.png"},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=(n(5),n(1)),c=n.n(o),i=n(4),l=n.n(i),s=n(2),u=n.n(s),f=(n(6),n(3)),p=n.n(f);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,b(t).call(this,e)))._onProviderClick=function(e){var t=n.state,a=t.dirty,r=t.value,o=r.slice(0);r[0]=e,!a&&n.setState({dirty:o}),n.change(r,"click")},n._onCancel=function(e){var t=n.state.dirty;n.setState({dirty:null}),n.change(t,"cancel")},n._onOk=function(e){var t=n.state.value;n.setState({dirty:null}),n.change(t,"confirm")},n._onEdit=function(){n.props.onModeChange()};var a=e.value,r=a.length?a:p.a.slice(0,1);return n._staticValue=r.slice(0),n.state={value:r,dirty:null},n}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a["Component"]),n=t,(o=[{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.state.value&&this.change(t)}},{key:"change",value:function(e,t){var n=this.props.onChange,a={value:e};this.setState(a,function(){a.action=t,n({target:a})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=(t.items,t.value,t.max,d(t,["className","items","value","max"]),this.state.dirty),o="react-color-configuration",c=this.state.value;return r.a.createElement("section",{className:l()(o,n),"data-multiple":"false"},r.a.createElement("div",{className:"".concat(o,"__provider")},r.a.createElement("header",{className:"mod--hd"},r.a.createElement("span",{className:"left"},"颜色编辑"),a&&r.a.createElement("div",{className:"right"},r.a.createElement("span",{onClick:this._onCancel,className:"action--cancel"},"取消"),r.a.createElement("span",{onClick:this._onOk,className:"action--ok"},"确定"))),r.a.createElement("div",{className:"mod--bd"},p.a.map(function(t,n){return r.a.createElement("div",{onClick:e._onProviderClick.bind(e,t),className:"".concat(o,"__item"),key:n,"data-color":t,style:{background:t}},function(e){return-1===c.indexOf(e)?null:"✔"}(t))}))),r.a.createElement("div",{className:"".concat(o,"__consumer")},r.a.createElement("header",{className:"mod--hd"},r.a.createElement("span",{className:"left"},"默认配色顺序"),r.a.createElement("span",{onClick:this._onEdit,className:"status--edit right"},"修改")),r.a.createElement("div",{className:"mod--bd"},this._staticValue.map(function(e,t){return r.a.createElement("div",{key:t,className:"".concat(o,"__consumer-item")},r.a.createElement("div",{className:"".concat(o,"__item"),style:{background:e}}))}))))}}])&&y(n.prototype,o),c&&y(n,c),t}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}g.propTypes={className:c.a.string,value:c.a.array,onModeChange:c.a.func,onValidate:c.a.func,onChange:c.a.func},g.defaultProps={value:[],onModeChange:u.a,onValidate:u.a,onChange:u.a};var k=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=C(this,N(t).call(this,e)))._onProviderClick=function(e){var t=n.state,a=t.value,r=t.active,o=(t.dirty,n.props),c=o.onValidate,i=o.max,l=a.length,s=a.slice(0);if(a.indexOf(e)>-1)c({target:{value:"DUPLICATE"}});else{var u=a.indexOf(r);-1===u?l<i?(s.push(e),n.change(s,"add")):c({target:{value:"GT_MAX"}}):(s[u]=e,n.setState({active:e}),n.change(s,"replace"))}},n._onConsumerClick=function(e){n.setState({active:e})},n._onDelete=function(e){var t=n.props,a=t.onValidate,r=t.min,o=n.state.value,c=o.slice(0);if(o.length>r){var i=o.indexOf(e);c.splice(i,1),n.change(c,"remove")}else a({target:{value:"LT_MIN"}})},n._onSelect=function(){n.setState({active:null})},n._onCancel=function(e){var t=n.state.dirty;n.setState({dirty:null}),n.change(t,"cancel")},n._onOk=function(e){var t=n.state.value;n.setState({dirty:null}),n.change(t,"confirm")};var a=e.value,r=a.length?a:p.a.slice(0,1);return n.state={value:r,active:null,dirty:null},n}var o,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,a["Component"]),o=t,(c=[{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=e.multiple;t!==this.state.value&&this.change(t),n!==this.state.multiple&&this.setState({multiple:n})}},{key:"change",value:function(e,t){var n=this.props.onChange,a=this.state,r=a.value,o=a.dirty,c={value:e};!o&&this.setState({dirty:r.slice(0)}),this.setState(c,function(){c.action=t,n({target:c})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,o=(t.items,t.value,t.max),c=(O(t,["className","items","value","max"]),this.state),i=c.active,s=c.dirty,u="react-color-configuration",f=this.state.value;return r.a.createElement("section",{className:l()(u,a),"data-multiple":"true"},r.a.createElement("div",{className:"clearfix ".concat(u,"__provider")},r.a.createElement("header",{className:"mod--hd"},r.a.createElement("span",{className:"left"},"颜色编辑")),r.a.createElement("div",{className:"mod--bd"},p.a.map(function(t,n){return r.a.createElement("div",{onClick:e._onProviderClick.bind(e,t),className:"".concat(u,"__item"),key:n,"data-color":t,style:{background:t}},function(e){var t=f.indexOf(e);return-1===t?null:t+1}(t))}))),r.a.createElement("div",{className:"".concat(u,"__consumer")},r.a.createElement("header",{className:"mod--hd"},r.a.createElement("span",{className:"left"},"默认配色顺序"),s&&r.a.createElement("div",{className:"status--menu right"},r.a.createElement("span",{onClick:this._onCancel,className:"action--cancel"},"取消"),r.a.createElement("span",{onClick:this._onOk,className:"action--ok"},"确定"))),r.a.createElement("div",{className:"mod--bd"},f.map(function(t,a){return r.a.createElement("div",{key:a,className:"".concat(u,"__consumer-item")},r.a.createElement("div",{onClick:e._onConsumerClick.bind(e,t),className:"".concat(u,"__item"),style:{background:t}},a+1),r.a.createElement("div",{className:"".concat(u,"__action"),onClick:e._onDelete.bind(e,t)},i===t&&r.a.createElement("span",{className:"action--select"},r.a.createElement("img",{src:n(7)})),i!==t&&r.a.createElement("span",{className:"action--delete"},r.a.createElement("img",{src:n(8)}))))}),r.a.createElement("div",{hidden:f.length===o,className:"".concat(u,"__consumer-item")},r.a.createElement("div",{className:"".concat(u,"__item ").concat(u,"__placeholder"),onClick:this._onConsumerClick.bind(this,null)},f.length+1),null===i&&r.a.createElement("div",{className:"".concat(u,"__action"),onClick:this._onSelect},r.a.createElement("span",{className:"action--select"},r.a.createElement("img",{src:n(7)})))))))}}])&&E(o.prototype,c),i&&E(o,i),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}k.propTypes={className:c.a.string,value:c.a.array,min:c.a.number,max:c.a.number,onValidate:c.a.func,onChange:c.a.func},k.defaultProps={value:[],min:1,max:8,onValidate:u.a,onChange:u.a};var M=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,q(t).call(this,e)))._onModeChange=function(e){n.setState({multiple:e})};e.value;var a=e.multiple;return n.state={multiple:a},n}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,a["Component"]),n=t,(o=[{key:"render",value:function(){return this.state.multiple?r.a.createElement(k,this.props):r.a.createElement(g,S({onModeChange:this._onModeChange.bind(this,!0)},this.props))}}])&&P(n.prototype,o),c&&P(n,c),t}();M.propTypes={className:c.a.string,value:c.a.array,multiple:c.a.bool,min:c.a.number,max:c.a.number,onValidate:c.a.func,onChange:c.a.func},M.defaultProps={value:[],multiple:!1,min:1,max:8,onValidate:u.a,onChange:u.a};t.default=M}])});